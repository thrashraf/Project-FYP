{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\Asus\\\\Desktop\\\\PROJECT\\\\Project-FYP\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"C:\\\\Users\\\\Asus\\\\Desktop\\\\PROJECT\\\\Project-FYP\\\\frontend\\\\src\\\\pages\\\\Register\\\\Form.tsx\";\n\nimport { useEffect, useRef, useState } from \"react\";\nimport { Input } from \"../../components/Input\";\nimport { useNavigate } from \"react-router-dom\";\nimport Toast from \"../../components/Toast\";\nimport { useAppSelector, useAppDispatch } from '../../app/hooks';\nimport { userSelector, signupUser, clearState } from \"../../features/user/User\";\nexport var Form = function Form() {\n  // create an instance for useNavigate\n  var navigate = useNavigate(); //to create references for Html Input Element\n\n  var toastRef = useRef(null);\n  var dispatch = useAppDispatch();\n\n  var _useAppSelector = useAppSelector(userSelector),\n      isFetching = _useAppSelector.isFetching,\n      isSuccess = _useAppSelector.isSuccess,\n      isError = _useAppSelector.isError,\n      errorMessage = _useAppSelector.errorMessage; // state\n\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      name = _useState2[0],\n      setName = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1]; // toast state\n\n\n  var _useState7 = useState(\"success\"),\n      _useState8 = _slicedToArray(_useState7, 2),\n      status = _useState8[0],\n      setStatus = _useState8[1];\n\n  var _useState9 = useState(\"successful !\"),\n      _useState10 = _slicedToArray(_useState9, 2),\n      message = _useState10[0],\n      setMessage = _useState10[1];\n\n  useEffect(function () {\n    if (isSuccess) {\n      dispatch(clearState());\n      createUserHandler(\"success\", 'successful register! please login');\n    }\n\n    if (isError) {\n      dispatch(clearState());\n      createUserHandler(\"error\", errorMessage);\n    } // eslint-disable-next-line react-hooks/exhaustive-deps\n\n  }, [isSuccess, isError]);\n  useEffect(function () {\n    return function () {\n      dispatch(clearState());\n    }; // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []); //? to make request for register user\n\n  var onSubmitHandler = function onSubmitHandler(e) {\n    //? to prevent refresh after submit\n    e.preventDefault();\n    var data = {\n      name: name,\n      email: email,\n      password: password\n    };\n    dispatch(signupUser(data));\n  };\n\n  var createUserHandler = function createUserHandler(status, message) {\n    if (toastRef.current !== null) {\n      setStatus(status);\n      setMessage(message);\n      toastRef.current.showToast();\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(\"form\", {\n    className: \"flex flex-col justify-center my-5\",\n    onSubmit: onSubmitHandler,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Toast, {\n    status: status,\n    message: message,\n    ref: toastRef,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"my-2.5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"text\",\n    placeholder: \"First Name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"my-2.5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"email\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"my-2.5\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    type: \"password\",\n    placeholder: \"Password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(\"section\", {\n    className: \"flex justify-center items-center text-sm mt-10 text-gray-400\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"checkbox\",\n    name: \"agree\",\n    className: \"mr-3\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }\n  }, \"I accept \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://google.com\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 20\n    }\n  }, \"Terms & Condition\"), \".\")), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"mt-10 bg-blue-500 text-white px-3 py-3 rounded-lg transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 hover:bg-blue-400 cursor-pointer flex justify-center items-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: \"/assets/loading.svg\",\n    alt: \"loading\",\n    className: \"w-[10px] h-[10px] animate-spin mr-2 \".concat(isFetching ? null : 'hidden'),\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 9\n    }\n  }), \"Register\"), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"mt-10 text-center\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }\n  }, \"already have an account?\", /*#__PURE__*/React.createElement(\"span\", {\n    className: \" underline text-blue-500 ml-2 cursor-pointer\",\n    onClick: function onClick() {\n      return navigate(\"/login\");\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 9\n    }\n  }, \"Login\")));\n};","map":{"version":3,"sources":["C:/Users/Asus/Desktop/PROJECT/Project-FYP/frontend/src/pages/Register/Form.tsx"],"names":["useEffect","useRef","useState","Input","useNavigate","Toast","useAppSelector","useAppDispatch","userSelector","signupUser","clearState","Form","navigate","toastRef","dispatch","isFetching","isSuccess","isError","errorMessage","name","setName","email","setEmail","password","setPassword","status","setStatus","message","setMessage","createUserHandler","onSubmitHandler","e","preventDefault","data","current","showToast","target","value"],"mappings":";;;;;AAAA,SAASA,SAAT,EAAoBC,MAApB,EAA4BC,QAA5B,QAA4C,OAA5C;AACA,SAASC,KAAT,QAAsB,wBAAtB;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,KAAP,MAAkB,wBAAlB;AACA,SAASC,cAAT,EAAyBC,cAAzB,QAA+C,iBAA/C;AACA,SAASC,YAAT,EAAuBC,UAAvB,EAAmCC,UAAnC,QAAqD,0BAArD;AAEA,OAAO,IAAMC,IAAI,GAAG,SAAPA,IAAO,GAAM;AACxB;AACA,MAAMC,QAAQ,GAAGR,WAAW,EAA5B,CAFwB,CAIxB;;AACA,MAAMS,QAAQ,GAAGZ,MAAM,CAAM,IAAN,CAAvB;AAEA,MAAMa,QAAQ,GAAGP,cAAc,EAA/B;;AAPwB,wBASiCD,cAAc,CAACE,YAAD,CAT/C;AAAA,MAShBO,UATgB,mBAShBA,UATgB;AAAA,MASJC,SATI,mBASJA,SATI;AAAA,MASOC,OATP,mBASOA,OATP;AAAA,MASgBC,YAThB,mBASgBA,YAThB,EAWxB;;;AAXwB,kBAYAhB,QAAQ,CAAS,EAAT,CAZR;AAAA;AAAA,MAYjBiB,IAZiB;AAAA,MAYXC,OAZW;;AAAA,mBAaElB,QAAQ,CAAS,EAAT,CAbV;AAAA;AAAA,MAajBmB,KAbiB;AAAA,MAaVC,QAbU;;AAAA,mBAcQpB,QAAQ,CAAS,EAAT,CAdhB;AAAA;AAAA,MAcjBqB,QAdiB;AAAA,MAcPC,WAdO,kBAgBxB;;;AAhBwB,mBAiBItB,QAAQ,CAAS,SAAT,CAjBZ;AAAA;AAAA,MAiBjBuB,MAjBiB;AAAA,MAiBTC,SAjBS;;AAAA,mBAkBMxB,QAAQ,CAAS,cAAT,CAlBd;AAAA;AAAA,MAkBjByB,OAlBiB;AAAA,MAkBRC,UAlBQ;;AAoBxB5B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAIgB,SAAJ,EAAe;AACbF,MAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AACAmB,MAAAA,iBAAiB,CAAC,SAAD,EAAY,mCAAZ,CAAjB;AACD;;AACD,QAAIZ,OAAJ,EAAa;AACXH,MAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AACAmB,MAAAA,iBAAiB,CAAC,OAAD,EAAUX,YAAV,CAAjB;AACD,KARa,CAShB;;AACC,GAVQ,EAUN,CAACF,SAAD,EAAYC,OAAZ,CAVM,CAAT;AAYAjB,EAAAA,SAAS,CAAC,YAAM;AACd,WAAO,YAAM;AACXc,MAAAA,QAAQ,CAACJ,UAAU,EAAX,CAAR;AACD,KAFD,CADc,CAIhB;AACC,GALQ,EAKN,EALM,CAAT,CAhCwB,CAuCxB;;AACA,MAAMoB,eAAe,GAAG,SAAlBA,eAAkB,CAACC,CAAD,EAA6B;AACnD;AACAA,IAAAA,CAAC,CAACC,cAAF;AAEA,QAAMC,IAAI,GAAG;AACXd,MAAAA,IAAI,EAAJA,IADW;AAEXE,MAAAA,KAAK,EAALA,KAFW;AAGXE,MAAAA,QAAQ,EAARA;AAHW,KAAb;AAMAT,IAAAA,QAAQ,CAACL,UAAU,CAACwB,IAAD,CAAX,CAAR;AACD,GAXD;;AAaA,MAAMJ,iBAAiB,GAAG,SAApBA,iBAAoB,CAACJ,MAAD,EAAiBE,OAAjB,EAAqC;AAC7D,QAAId,QAAQ,CAACqB,OAAT,KAAqB,IAAzB,EAA+B;AAC7BR,MAAAA,SAAS,CAACD,MAAD,CAAT;AACAG,MAAAA,UAAU,CAACD,OAAD,CAAV;AACAd,MAAAA,QAAQ,CAACqB,OAAT,CAAiBC,SAAjB;AACD;AACF,GAND;;AAQA,sBACE;AAAM,IAAA,SAAS,EAAC,mCAAhB;AAAoD,IAAA,QAAQ,EAAEL,eAA9D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AAAO,IAAA,MAAM,EAAEL,MAAf;AAAuB,IAAA,OAAO,EAAEE,OAAhC;AAAyC,IAAA,GAAG,EAAEd,QAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAGE;AAAS,IAAA,SAAS,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,MADP;AAEE,IAAA,WAAW,EAAC,YAFd;AAGE,IAAA,KAAK,EAAEM,IAHT;AAIE,IAAA,QAAQ,EAAE,kBAACY,CAAD;AAAA,aAAOX,OAAO,CAACW,CAAC,CAACK,MAAF,CAASC,KAAV,CAAd;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAHF,eAYE;AAAS,IAAA,SAAS,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,WAAW,EAAC,OAFd;AAGE,IAAA,KAAK,EAAEhB,KAHT;AAIE,IAAA,QAAQ,EAAE,kBAACU,CAAD;AAAA,aAAOT,QAAQ,CAACS,CAAC,CAACK,MAAF,CAASC,KAAV,CAAf;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAZF,eAqBE;AAAS,IAAA,SAAS,EAAC,QAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,KAAD;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,KAAK,EAAEd,QAHT;AAIE,IAAA,QAAQ,EAAE,kBAACQ,CAAD;AAAA,aAAOP,WAAW,CAACO,CAAC,CAACK,MAAF,CAASC,KAAV,CAAlB;AAAA,KAJZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CArBF,eA8BE;AAAS,IAAA,SAAS,EAAC,8DAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAO,IAAA,IAAI,EAAC,UAAZ;AAAuB,IAAA,IAAI,EAAC,OAA5B;AAAoC,IAAA,SAAS,EAAC,MAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,eAEE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+BACW;AAAG,IAAA,IAAI,EAAC,mBAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADX,MAFF,CA9BF,eAqCE;AACE,IAAA,IAAI,EAAC,QADP;AAEE,IAAA,SAAS,EAAC,2LAFZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAIE;AAAK,IAAA,GAAG,EAAC,qBAAT;AAA+B,IAAA,GAAG,EAAC,SAAnC;AAA6C,IAAA,SAAS,gDAAyCtB,UAAU,GAAG,IAAH,GAAU,QAA7D,CAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAJF,aArCF,eA8CE;AAAG,IAAA,SAAS,EAAC,mBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8CAEE;AACE,IAAA,SAAS,EAAC,8CADZ;AAEE,IAAA,OAAO,EAAE;AAAA,aAAMH,QAAQ,CAAC,QAAD,CAAd;AAAA,KAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFF,CA9CF,CADF;AA0DD,CAvHM","sourcesContent":["import { useEffect, useRef, useState } from \"react\";\r\nimport { Input } from \"../../components/Input\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport Toast from \"../../components/Toast\";\r\nimport { useAppSelector, useAppDispatch } from '../../app/hooks'\r\nimport { userSelector, signupUser, clearState } from \"../../features/user/User\";\r\n\r\nexport const Form = () => {\r\n  // create an instance for useNavigate\r\n  const navigate = useNavigate();\r\n\r\n  //to create references for Html Input Element\r\n  const toastRef = useRef<any>(null);\r\n\r\n  const dispatch = useAppDispatch();\r\n\r\n  const { isFetching, isSuccess, isError, errorMessage } = useAppSelector(userSelector)\r\n\r\n  // state\r\n  const [name, setName] = useState<string>(\"\");\r\n  const [email, setEmail] = useState<string>(\"\");\r\n  const [password, setPassword] = useState<string>(\"\");\r\n  \r\n  // toast state\r\n  const [status, setStatus] = useState<string>(\"success\");\r\n  const [message, setMessage] = useState<string>(\"successful !\");\r\n\r\n  useEffect(() => {\r\n    if (isSuccess) {\r\n      dispatch(clearState())\r\n      createUserHandler(\"success\", 'successful register! please login');\r\n    }\r\n    if (isError) {\r\n      dispatch(clearState())\r\n      createUserHandler(\"error\", errorMessage);\r\n    }\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [isSuccess, isError]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      dispatch(clearState());\r\n    };\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  //? to make request for register user\r\n  const onSubmitHandler = (e: React.SyntheticEvent) => {\r\n    //? to prevent refresh after submit\r\n    e.preventDefault();\r\n\r\n    const data = {\r\n      name,\r\n      email,\r\n      password\r\n    }\r\n\r\n    dispatch(signupUser(data))\r\n  };\r\n\r\n  const createUserHandler = (status: string, message: string) => {\r\n    if (toastRef.current !== null) {\r\n      setStatus(status);\r\n      setMessage(message);\r\n      toastRef.current.showToast();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form className=\"flex flex-col justify-center my-5\" onSubmit={onSubmitHandler}>\r\n      <Toast status={status} message={message} ref={toastRef} />\r\n\r\n      <section className=\"my-2.5\">\r\n        <Input\r\n          type=\"text\"\r\n          placeholder=\"First Name\"\r\n          value={name}\r\n          onChange={(e) => setName(e.target.value)}\r\n        />\r\n      </section>\r\n\r\n      <section className=\"my-2.5\">\r\n        <Input\r\n          type=\"email\"\r\n          placeholder=\"Email\"\r\n          value={email}\r\n          onChange={(e) => setEmail(e.target.value)}\r\n        />\r\n      </section>\r\n\r\n      <section className=\"my-2.5\">\r\n        <Input\r\n          type=\"password\"\r\n          placeholder=\"Password\"\r\n          value={password}\r\n          onChange={(e) => setPassword(e.target.value)}\r\n        />\r\n      </section>\r\n\r\n      <section className=\"flex justify-center items-center text-sm mt-10 text-gray-400\">\r\n        <input type=\"checkbox\" name=\"agree\" className=\"mr-3\" />\r\n        <p>\r\n          I accept <a href=\"http://google.com\">Terms & Condition</a>.\r\n        </p>\r\n      </section>\r\n\r\n      <button\r\n        type=\"submit\"\r\n        className=\"mt-10 bg-blue-500 text-white px-3 py-3 rounded-lg transition ease-in-out delay-150 hover:-translate-y-1 hover:scale-110 hover:bg-blue-400 cursor-pointer flex justify-center items-center\"\r\n      >\r\n        <img src=\"/assets/loading.svg\" alt=\"loading\" className={`w-[10px] h-[10px] animate-spin mr-2 ${isFetching ? null : 'hidden'}`}/>\r\n        Register\r\n        \r\n      </button>\r\n\r\n      <p className=\"mt-10 text-center\">\r\n        already have an account?\r\n        <span\r\n          className=\" underline text-blue-500 ml-2 cursor-pointer\"\r\n          onClick={() => navigate(\"/login\")}\r\n        >\r\n          Login\r\n        </span>\r\n      </p>\r\n    </form>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}